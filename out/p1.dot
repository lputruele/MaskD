digraph model {

    p1nc_ -> p1nc_p1d_ [color="red",label = "p1.Down"];
    p1nc_ -> p1w_ [label = "p1.Waiting"];
    p1w_ -> p1w_p1d_ [color="red",label = "p1.Down"];
    p1w_ -> p1c_p1s_ [label = "p1.EnterCS"];
    p1nc_p1d_ [color="red"];
    p1nc_p1d_ -> p1nc_ [color="red",label = "p1.Recover"];
    p1c_p1s_ -> p1c_p1d_p1s_ [color="red",label = "p1.Down"];
    p1c_p1s_ -> p1nc_ [label = "p1.ExitCS"];
    p1w_p1d_ [color="red"];
    p1w_p1d_ -> p1w_ [color="red",label = "p1.Recover"];
    p1c_p1d_p1s_ [color="red"];
    p1c_p1d_p1s_ -> p1c_p1s_ [color="red",label = "p1.Recover"];

}